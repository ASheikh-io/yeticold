<html>
 <head>
    <title>Yeti Bitcoin Storage</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet", href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet", href="{{ url_for('static', filename='bootstrap.min.css') }}">
    <script src="{{ url_for('static', filename='jquery-3.3.1.min.js') }}"></script>
    <script src="{{ url_for('static', filename='bootstrap.min.js') }}"></script>
  </head>

  <body>
    <nav class="form-row navbar navbar-light bg-primary">
        <img src="{{url_for('static', filename='yeti.png')}}" width="50" height="50" class="align-top" alt="">
        <h3 style="color:white;margin:0;">Yeti Bitcoin Cold Storage</h3>
    </nav>
    <div class="container" style="margin-top: 3rem;">
      <h2>Yeti Cold Storage Location</h2>
      <ul>
          <li>Here you can send and recieve funds from your Yeti Cold storage location.</li>
          <li>You should not reuse addresses so the Receive button is disabled after one is used.</li>
          <li>To refresh the balance click the <b>Refresh</b> button in Firefox.</li>
      </ul>
      <ul style="padding: 0px;">
        {%for i in range(0, len)%} 
          {%if (i % 2) == 0 %} 
            <li style="display: flex;" class="list-group-item navbar navbar-inverse">
          {%else%}
            <li style="display: flex;background-color: #e9ecef!important;color: #212529!important;" class="list-group-item navbar navbar-inverse">
          {%endif%}
              <ul class="nav navbar-nav navbar-left">
                <li class="form-inline my-2 my-lg-0 navbar-right nav navbar-nav">{{addresses[i]['address']}}</li>
              </ul>
              <ul class="nav navbar-nav navbar-left" style="position: absolute; right: 55vh!important;">
                <li class="form-inline my-2 my-lg-0 navbar-right nav navbar-nav">Balance:</li>
              </ul>
              <ul class="nav navbar-nav navbar-left" style="position: absolute; right: 40vh!important;">
                <li class="form-inline my-2 my-lg-0 navbar-right nav navbar-nav">{{addresses[i]['formatedAmount']}}</li>
              </ul>
              <ul class="nav navbar-nav navbar-right" style="position: absolute; right: 20vh!important;display: flex;">
                <form action="" method="post" class="form-inline my-2 my-lg-0 navbar-right nav navbar-nav">
                  <input style="display: none;" name="option" value="SEND">
                  <input style="display: none;" name="address" value="{{addresses[i]['address']}}">
                  {%if addresses[i]['utxocount'] == 1%}
                  <input class="btn btn-primary my-2 my-sm-0" type="submit" id="send{{i}}" value="Send">
                  {%else%}
                  <input disabled class="btn btn-secondary my-2 my-sm-0" type="submit" id="send{{i}}" value="Send">
                  {%endif%}
                </form>
              </ul>
              <ul class="nav navbar-nav navbar-right" style="display: flex;">
                <form action="" method="post" class="form-inline my-2 my-lg-0 navbar-right nav navbar-nav">
                  <input style="display: none;" name="option" value="RECEIVE">
                  {%if addresses[i]['totalbal'] > 0%}
                  <input disabled class="btn btn-secondary my-2 my-sm-0" type="button" id="show{{i}}" value="Receive">
                  {%else%}
                  <input class="btn btn-primary my-2 my-sm-0" type="button" id="show{{i}}" value="Receive">
                  {%endif%}
                </form>
              </ul>
            </li>
        {%if (i % 2) == 0 %} 
          <li id="test{{i}}" style="display:none;" class="list-group-item navbar navbar-inverse">
        {%else%}
          <li id="test{{i}}" style="display:none;background-color: #e9ecef!important;color: #212529!important;" class="list-group-item navbar navbar-inverse">
        {%endif%}
          <img src="{{addresses[i]['route']}}" style="height: 20vh; width: 20vh">
        </li>
        {%endfor%}
      </ul>
    </div>
  </body>
  <script>
    for (let x = 0; x <= {{len}} - 1; x++) {
      document.getElementById("show" + x).addEventListener("click", function(){
        for (let y = 0; y <= {{len}} - 1; y++) {
          if (x != y ) { document.getElementById("test" + y).style.display = "none" }
        }
        if (document.getElementById("test" + x).style.display === "none") { document.getElementById("test" + x).style.display = "flex" } else { document.getElementById("test" + x).style.display = "none" } 
      })
    }
  </script>
</html>
